(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{3454:function(e,t,r){"use strict";var n,i;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(i=r.g.process)?void 0:i.env)?r.g.process:r(7663)},6840:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return r(1897)}])},6691:function(e,t){"use strict";var r,n,i,s;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ACTION_FAST_REFRESH:function(){return h},ACTION_NAVIGATE:function(){return a},ACTION_PREFETCH:function(){return c},ACTION_REFRESH:function(){return o},ACTION_RESTORE:function(){return u},ACTION_SERVER_ACTION:function(){return f},ACTION_SERVER_PATCH:function(){return l},PrefetchCacheEntryStatus:function(){return n},PrefetchKind:function(){return r},isThenable:function(){return d}});let o="refresh",a="navigate",u="restore",l="server-patch",c="prefetch",h="fast-refresh",f="server-action";function d(e){return e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}(i=r||(r={})).AUTO="auto",i.FULL="full",i.TEMPORARY="temporary",(s=n||(n={})).fresh="fresh",s.reusable="reusable",s.expired="expired",s.stale="stale",("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},4318:function(e,t,r){"use strict";function n(e,t,r,n){return!1}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getDomainLocale",{enumerable:!0,get:function(){return n}}),r(8364),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9577:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return w}});let n=r(8754),i=r(5893),s=n._(r(7294)),o=r(1401),a=r(2045),u=r(7420),l=r(7201),c=r(1443),h=r(9953),f=r(5320),d=r(2905),p=r(4318),y=r(953),m=r(6691),v=new Set;function g(e,t,r,n,i,s){if(s||(0,a.isLocalURL)(t)){if(!n.bypassPrefetchedCheck){let i=t+"%"+r+"%"+(void 0!==n.locale?n.locale:"locale"in e?e.locale:void 0);if(v.has(i))return;v.add(i)}(async()=>s?e.prefetch(t,i):e.prefetch(t,r,n))().catch(e=>{})}}function b(e){return"string"==typeof e?e:(0,u.formatUrl)(e)}let w=s.default.forwardRef(function(e,t){let r,n;let{href:u,as:v,children:w,prefetch:O=null,passHref:x,replace:C,shallow:S,scroll:R,locale:E,onClick:q,onMouseEnter:P,onTouchStart:Q,legacyBehavior:j=!1,...D}=e;r=w,j&&("string"==typeof r||"number"==typeof r)&&(r=(0,i.jsx)("a",{children:r}));let _=s.default.useContext(h.RouterContext),M=s.default.useContext(f.AppRouterContext),T=null!=_?_:M,k=!_,I=!1!==O,A=null===O?m.PrefetchKind.AUTO:m.PrefetchKind.FULL,{href:F,as:U}=s.default.useMemo(()=>{if(!_){let e=b(u);return{href:e,as:v?b(v):e}}let[e,t]=(0,o.resolveHref)(_,u,!0);return{href:e,as:v?(0,o.resolveHref)(_,v):t||e}},[_,u,v]),N=s.default.useRef(F),L=s.default.useRef(U);j&&(n=s.default.Children.only(r));let K=j?n&&"object"==typeof n&&n.ref:t,[H,z,G]=(0,d.useIntersection)({rootMargin:"200px"}),$=s.default.useCallback(e=>{(L.current!==U||N.current!==F)&&(G(),L.current=U,N.current=F),H(e),K&&("function"==typeof K?K(e):"object"==typeof K&&(K.current=e))},[U,K,F,G,H]);s.default.useEffect(()=>{T&&z&&I&&g(T,F,U,{locale:E},{kind:A},k)},[U,F,z,E,I,null==_?void 0:_.locale,T,k,A]);let V={ref:$,onClick(e){j||"function"!=typeof q||q(e),j&&n.props&&"function"==typeof n.props.onClick&&n.props.onClick(e),T&&!e.defaultPrevented&&function(e,t,r,n,i,o,u,l,c){let{nodeName:h}=e.currentTarget;if("A"===h.toUpperCase()&&(function(e){let t=e.currentTarget.getAttribute("target");return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)||!c&&!(0,a.isLocalURL)(r)))return;e.preventDefault();let f=()=>{let e=null==u||u;"beforePopState"in t?t[i?"replace":"push"](r,n,{shallow:o,locale:l,scroll:e}):t[i?"replace":"push"](n||r,{scroll:e})};c?s.default.startTransition(f):f()}(e,T,F,U,C,S,R,E,k)},onMouseEnter(e){j||"function"!=typeof P||P(e),j&&n.props&&"function"==typeof n.props.onMouseEnter&&n.props.onMouseEnter(e),T&&(I||!k)&&g(T,F,U,{locale:E,priority:!0,bypassPrefetchedCheck:!0},{kind:A},k)},onTouchStart:function(e){j||"function"!=typeof Q||Q(e),j&&n.props&&"function"==typeof n.props.onTouchStart&&n.props.onTouchStart(e),T&&(I||!k)&&g(T,F,U,{locale:E,priority:!0,bypassPrefetchedCheck:!0},{kind:A},k)}};if((0,l.isAbsoluteUrl)(U))V.href=U;else if(!j||x||"a"===n.type&&!("href"in n.props)){let e=void 0!==E?E:null==_?void 0:_.locale,t=(null==_?void 0:_.isLocaleDomain)&&(0,p.getDomainLocale)(U,e,null==_?void 0:_.locales,null==_?void 0:_.domainLocales);V.href=t||(0,y.addBasePath)((0,c.addLocale)(U,e,null==_?void 0:_.defaultLocale))}return j?s.default.cloneElement(n,V):(0,i.jsx)("a",{...D,...V,children:r})});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2905:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useIntersection",{enumerable:!0,get:function(){return u}});let n=r(7294),i=r(3815),s="function"==typeof IntersectionObserver,o=new Map,a=[];function u(e){let{rootRef:t,rootMargin:r,disabled:u}=e,l=u||!s,[c,h]=(0,n.useState)(!1),f=(0,n.useRef)(null),d=(0,n.useCallback)(e=>{f.current=e},[]);return(0,n.useEffect)(()=>{if(s){if(l||c)return;let e=f.current;if(e&&e.tagName)return function(e,t,r){let{id:n,observer:i,elements:s}=function(e){let t;let r={root:e.root||null,margin:e.rootMargin||""},n=a.find(e=>e.root===r.root&&e.margin===r.margin);if(n&&(t=o.get(n)))return t;let i=new Map;return t={id:r,observer:new IntersectionObserver(e=>{e.forEach(e=>{let t=i.get(e.target),r=e.isIntersecting||e.intersectionRatio>0;t&&r&&t(r)})},e),elements:i},a.push(r),o.set(r,t),t}(r);return s.set(e,t),i.observe(e),function(){if(s.delete(e),i.unobserve(e),0===s.size){i.disconnect(),o.delete(n);let e=a.findIndex(e=>e.root===n.root&&e.margin===n.margin);e>-1&&a.splice(e,1)}}}(e,e=>e&&h(e),{root:null==t?void 0:t.current,rootMargin:r})}else if(!c){let e=(0,i.requestIdleCallback)(()=>h(!0));return()=>(0,i.cancelIdleCallback)(e)}},[l,r,t,c,f.current]),[d,c,(0,n.useCallback)(()=>{h(!1)},[])]}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},741:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(5893);function i(e){let t=()=>{new Audio("/audio/button_click.wav").play(),e.onClick&&e.onClick()};return(0,n.jsx)("div",{className:"mc-button hover:cursor-pointer "+e.className,onClick:()=>t(),children:(0,n.jsx)("div",{className:"title",children:e.children})})}},1525:function(e,t,r){"use strict";r.d(t,{DM:function(){return n},SY:function(){return a},WN:function(){return o},YM:function(){return s},jF:function(){return i}});let n={SUCCESS_COLOR:"hsla(92, 100%, 37%, 0.859)",NEAR_SUCCESS_COLOR:"#caa905",WRONG_COLOR:"rgb(83, 83, 83)"},i={...n,SUCCESS_COLOR:"#f5793a",NEAR_SUCCESS_COLOR:"#85c0f9"},s="20231222_2",o={highContrast:!1},a="https://minecraftle-public.zachmanson.com"},1821:function(e,t,r){"use strict";r.d(t,{O:function(){return a},n:function(){return o}});var n=r(1525),i=r(7294);let s=(0,i.createContext)({userId:"",solution:"stick",items:{},cursorItem:void 0,setCursorItem:()=>{},craftingTables:[],setCraftingTables:()=>{},colorTables:[],setColorTables:()=>{},recipes:{},trimVariants:()=>[[-1,-1,-1],[-1,-1,-1],[-1,-1,-1]],checkAllVariants:()=>void 0,gameState:"inprogress",setGameState:()=>{},options:n.WN,setOptions:()=>{},resetGame:()=>{},gameDate:new Date,remainingSolutionVariants:[]}),o=s.Provider,a=()=>(0,i.useContext)(s)},1897:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});var n=r(5893),i=r(1525);function s(e){let t=o(e);for(let t=0;t<e.length;t++)e[t].reverse();return t.concat(o(e))}function o(e){let t=e.length,r=e[0].length,n=4-e.length,i=4-e[0].length,s=[];for(let o=0;o<n;o++)for(let n=0;n<i;n++){let i=[[null,null,null],[null,null,null],[null,null,null]];for(let s=0;s<t;s++)for(let t=0;t<r;t++)i[o+s][n+t]=e[s][t];s.push(i)}return s}function a(e,t,r){let n=[[0,0,0],[0,0,0],[0,0,0]],i=0,s=!0;for(let o=0;o<e.length;o++)for(let a=0;a<e[0].length;a++)e[o][a]=void 0===e[o][a]?null:e[o][a],t[o][a]=void 0===t[o][a]?null:t[o][a],(void 0===r||e[o][a]===r&&t[o][a]===r)&&(e[o][a]===t[o][a]?null===e[o][a]?n[o][a]=1:(n[o][a]=2,i++):s=!1);return[n,i,s]}var u=r(7294),l=r(6377),c=r.n(l),h=r(1821),f=e=>{let{children:t}=e,[r,o]=(0,u.useState)(""),[l,f]=(0,u.useState)(i.WN),[d,p]=(0,u.useState)(new Date),[y,m]=(0,u.useState)("inprogress"),[v,g]=(0,u.useState)("stick"),[b,w]=(0,u.useState)({}),[O,x]=(0,u.useState)(void 0),[C,S]=(0,u.useState)([[[void 0,void 0,void 0],[void 0,void 0,void 0],[void 0,void 0,void 0]]]),[R,E]=(0,u.useState)([[[void 0,void 0,void 0],[void 0,void 0,void 0],[void 0,void 0,void 0]]]),[q,P]=(0,u.useState)({}),[Q,j]=(0,u.useState)([]),[D,_]=(0,u.useState)({}),[M,T]=(0,u.useState)([]),[k,I]=(0,u.useState)([]),[A,F]=(0,u.useState)({});(0,u.useEffect)(()=>{L(),K(),H(),z()},[]);let U=e=>{if(m("inprogress"),e)g(Object.keys(q)[Math.floor(Math.random()*Object.keys(q).length)]);else{let e=new Date;p(e),N(e)}x(void 0),S([]),setTimeout(()=>S([[[void 0,void 0,void 0],[void 0,void 0,void 0],[void 0,void 0,void 0]]]),250),E([[[void 0,void 0,void 0],[void 0,void 0,void 0],[void 0,void 0,void 0]]])};(0,u.useEffect)(()=>{if(Object.keys(q).length>0){let e={...D};for(let[t,r]of Object.entries(q))e[r.output]=s(r.input);_(e),v&&j(q[v].input)}},[q,v]),(0,u.useEffect)(()=>{if(Q.length>0){let e={};for(let t=0;t<Q.length;t++)for(let r=0;r<Q[0].length;r++)null!==Q[t][r]&&(void 0===e[Q[t][r]]?e[Q[t][r]]=1:e[Q[t][r]]++);F(e);let t=s(Q);T(t),I(t)}},[Q]),(0,u.useEffect)(()=>{N(d)},[q]);let N=e=>{let t=c()(e.toDateString());g(Object.keys(q)[Math.floor(t()*Object.keys(q).length)])},L=()=>{let e=localStorage.getItem("user_id");null===e&&(e=Date.now().toString()+Math.random().toString(),localStorage.setItem("user_id",e)),o(e)};(0,u.useEffect)(()=>{localStorage.setItem("options",JSON.stringify(l))},[l]);let K=()=>{var e;let t=JSON.parse(null!==(e=localStorage.getItem("options"))&&void 0!==e?e:"{}");0===Object.keys(t).length?f(i.WN):f(t)},H=()=>{var e;let t=JSON.parse(null!==(e=localStorage.getItem("items_".concat(i.YM)))&&void 0!==e?e:"{}");0===Object.keys(t).length?fetch(i.SY+"/data/items.json",{headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>{w(e),localStorage.setItem("items_".concat(i.YM),JSON.stringify(e))}):w(t)},z=()=>{var e;let t=JSON.parse(null!==(e=localStorage.getItem("recipes_".concat(i.YM)))&&void 0!==e?e:"{}");0===Object.keys(t).length?fetch(i.SY+"/data/recipes.json",{headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>{P(e),localStorage.setItem("recipes_".concat(i.YM),JSON.stringify(e))}):P(t)},G=e=>{for(let[t,r]of Object.entries(D))for(let n of r){let[r,i,s]=a(n,e);if(s)return t}},$=()=>k[0],V=e=>{let[t,r]=W(e),[n,i]=function(e,t){let r=t.indexOf(Math.max(...t)),[n,i,s]=a(e[r],e[r],2),o=[];for(let[t,r]of e.entries()){let e=a(r,r,2);a(n,e[0])[2]&&o.push(t)}return[o,n]}(t,r);return I(e=>[...e].filter((e,t)=>n.includes(t))),function(e,t){let r={};for(let t=0;t<3;t++)for(let n=0;n<3;n++)null!==e[t][n]&&void 0!==e[t][n]&&void 0===r[e[t][n]]&&(r[e[t][n]]=0);for(let n=0;n<3;n++)for(let i=0;i<3;i++)null!==e[n][i]&&void 0!==e[n][i]&&2===t[n][i]&&r[e[n][i]]++;let n={...A};for(let e of Object.keys(n))n[e]-=r[e];for(let r=0;r<3;r++)for(let i=0;i<3;i++)null!==e[r][i]&&void 0!==e[r][i]&&2!==t[r][i]&&n[e[r][i]]>0&&(t[r][i]=3,n[e[r][i]]--)}(e,i),i},W=e=>{let t=[],r=[];for(let n of k){let i=a(n,e);t.push(i[0]),r.push(i[1])}return[t,r]},Y=(0,u.useMemo)(()=>({userId:r,solution:v,items:b,cursorItem:O,setCursorItem:x,craftingTables:C,setCraftingTables:S,colorTables:R,setColorTables:E,recipes:q,checkAllVariants:G,getFirstSolutionVariant:$,trimVariants:V,gameState:y,setGameState:m,options:l,setOptions:f,resetGame:U,gameDate:d,remainingSolutionVariants:k}),[r,v,b,O,x,C,S,q,G,$,V,R,E,y,m,l,f,U,d,k]);return(0,n.jsx)(h.n,{value:Y,children:t})};r(1784);var d=r(9008),p=r.n(d),y=r(4290),m=r(2897).S.withTRPC(function(e){let{Component:t,pageProps:r}=e,i=(0,n.jsxs)(y.default,{children:[(0,n.jsxs)(p(),{children:[(0,n.jsx)("title",{children:"Minecraftle"}),(0,n.jsx)("meta",{"http-equiv":"content-type",content:"text/html; charset=UTF-8"}),(0,n.jsx)("meta",{name:"viewport",content:"width=device-width; initial-scale=1.0;"}),(0,n.jsx)("link",{rel:"apple-touch-icon",sizes:"180x180",href:"/icons/apple-touch-icon.png"}),(0,n.jsx)("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"/icons/favicon-32x32.png"}),(0,n.jsx)("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"/icons/favicon-16x16.png"}),(0,n.jsx)("link",{rel:"manifest",href:"/icons/site.webmanifest"}),(0,n.jsx)("link",{rel:"mask-icon",href:"/icons//safari-pinned-tab.svg",color:"#5bbad5"}),(0,n.jsx)("link",{rel:"shortcut icon",href:"/icons/favicon.ico"}),(0,n.jsx)("meta",{name:"msapplication-TileColor",content:"#da532c"}),(0,n.jsx)("meta",{name:"msapplication-config",content:"/icons/browserconfig.xml"}),(0,n.jsx)("meta",{name:"theme-color",content:"#221A13"})]}),(0,n.jsx)(t,{...r})]});return(0,n.jsx)(f,{children:i})})},4290:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u}});var n=r(5893),i=r(741),s=r(1821),o=r(1664),a=r.n(o);function u(e){let{children:t}=e,{setCursorItem:r,userId:o,setOptions:u,resetGame:l}=(0,s.O)();return(0,n.jsx)("div",{onClick:e=>{r(void 0)},children:(0,n.jsxs)("div",{className:"flex flex-col gap-4 max-w-xl m-auto",children:[(0,n.jsxs)("header",{children:[(0,n.jsx)("h1",{className:"text-center m-0 p-2 text-5x2",children:"SUPER МАЙНКРАФТЛИ"})]}),(0,n.jsx)("main",{children:t})]})})}},2897:function(e,t,r){"use strict";let n;function i(e){let t={subscribe(t){let r=null,n=!1,i=!1,s=!1;function o(){if(null===r){s=!0;return}!i&&(i=!0,"function"==typeof r?r():r&&r.unsubscribe())}return r=e({next(e){n||t.next?.(e)},error(e){n||(n=!0,t.error?.(e),o())},complete(){n||(n=!0,t.complete?.(),o())}}),s&&o(),{unsubscribe:o}},pipe:(...e)=>e.reduce(s,t)};return t}function s(e,t){return t(e)}r.d(t,{S:function(){return tv}});let o=()=>{},a=e=>{Object.freeze&&Object.freeze(e)},u=e=>(function e(t,r,n){let i=r.join(".");return n[i]??(n[i]=new Proxy(o,{get(i,s){if("string"==typeof s&&"then"!==s)return e(t,[...r,s],n)},apply(e,n,i){let s=r[r.length-1],o={args:i,path:r};return"call"===s?o={args:i.length>=2?[i[1]]:[],path:r.slice(0,-1)}:"apply"===s&&(o={args:i.length>=2?i[1]:[],path:r.slice(0,-1)}),a(o.args),a(o.path),t(o)}})),n[i]})(e,[],Object.create(null)),l=e=>new Proxy(o,{get(t,r){if("string"==typeof r&&"then"!==r)return e(r)}});function c(e,...t){let r=Object.assign(Object.create(null),e);for(let e of t)for(let t in e){if(t in r&&r[t]!==e[t])throw Error(`Duplicate key ${t}`);r[t]=e[t]}return r}function h(e){return!!e&&!Array.isArray(e)&&"object"==typeof e}function f(e){return Object.assign(Object.create(null),e)}Symbol("unsetMarker");let d="function"==typeof Symbol&&!!Symbol.asyncIterator;class p extends Error{}function y(e){if(e instanceof m||e instanceof Error&&"TRPCError"===e.name)return e;let t=new m({code:"INTERNAL_SERVER_ERROR",cause:e});return e instanceof Error&&e.stack&&(t.stack=e.stack),t}class m extends Error{constructor(e){let t=function(e){if(e instanceof Error)return e;let t=typeof e;if("undefined"!==t&&"function"!==t&&null!==e){if("object"!==t)return Error(String(e));if(h(e)){let t=new p;for(let r in e)t[r]=e[r];return t}}}(e.cause);super(e.message??t?.message??e.code,{cause:t}),this.code=e.code,this.name="TRPCError",this.cause||(this.cause=t)}}Symbol("cancelledReadableStream"),Symbol("TrackedEnvelope");let v={input:{serialize:e=>e,deserialize:e=>e},output:{serialize:e=>e,deserialize:e=>e}};class g extends Error{constructor(){super("Unable to transform response from server")}}let b=({shape:e})=>e,w="middlewareMarker";function O(e){if("function"==typeof e&&"function"==typeof e.assert)return e.assert.bind(e);if("function"==typeof e)return e;if("function"==typeof e.parseAsync)return e.parseAsync.bind(e);if("function"==typeof e.parse)return e.parse.bind(e);if("function"==typeof e.validateSync)return e.validateSync.bind(e);if("function"==typeof e.create)return e.create.bind(e);if("function"==typeof e.assert)return t=>(e.assert(t),t);throw Error("Could not find a validator fn")}function x(e,t){let{middlewares:r=[],inputs:n,meta:i,...s}=t;return C({...c(e,s),inputs:[...e.inputs,...n??[]],middlewares:[...e.middlewares,...r],meta:e.meta&&i?{...e.meta,...i}:i??e.meta})}function C(e={}){let t={procedure:!0,inputs:[],middlewares:[],...e};return{_def:t,input(e){let r=O(e);return x(t,{inputs:[e],middlewares:[function(e){let t=async function(t){let r;let n=await t.getRawInput();try{r=await e(n)}catch(e){throw new m({code:"BAD_REQUEST",cause:e})}let i=h(t.input)&&h(r)?{...t.input,...r}:r;return t.next({input:i})};return t._type="input",t}(r)]})},output(e){let r=O(e);return x(t,{output:e,middlewares:[function(e){let t=async function({next:t}){let r=await t();if(!r.ok)return r;try{let t=await e(r.data);return{...r,data:t}}catch(e){throw new m({message:"Output validation failed",code:"INTERNAL_SERVER_ERROR",cause:e})}};return t._type="output",t}(r)]})},meta:e=>x(t,{meta:e}),use:e=>x(t,{middlewares:"_middlewares"in e?e._middlewares:[e]}),unstable_concat:e=>x(t,e._def),query:e=>S({...t,type:"query"},e),mutation:e=>S({...t,type:"mutation"},e),subscription:e=>S({...t,type:"subscription"},e),experimental_caller:e=>x(t,{caller:e})}}function S(e,t){let r=x(e,{resolver:t,middlewares:[async function(e){return{marker:w,ok:!0,data:await t(e),ctx:e.ctx}}]}),n={...r._def,type:e.type,experimental_caller:!!r._def.caller,meta:r._def.meta,$types:null},i=function(e){async function t(t){if(!t||!("getRawInput"in t))throw Error(R);async function r(n={index:0,ctx:t.ctx}){try{let i=e.middlewares[n.index];return await i({ctx:n.ctx,type:t.type,path:t.path,getRawInput:n.getRawInput??t.getRawInput,meta:e.meta,input:n.input,next:e=>r({index:n.index+1,ctx:e&&"ctx"in e?{...n.ctx,...e.ctx}:n.ctx,input:e&&"input"in e?e.input:n.input,getRawInput:e&&"getRawInput"in e?e.getRawInput:n.getRawInput})})}catch(e){return{ok:!1,error:y(e),marker:w}}}let n=await r();if(!n)throw new m({code:"INTERNAL_SERVER_ERROR",message:"No result from middlewares - did you forget to `return next()`?"});if(!n.ok)throw n.error;return n.data}return t._def=e,t}(r._def),s=r._def.caller;if(!s)return i;let o=async(...e)=>await s({args:e,invoke:i,_def:n});return o._def=n,o}let R=`
This is a client-only function.
If you want to call this function on the server, see https://trpc.io/docs/v11/server/server-side-calls
`.trim(),E="undefined"==typeof window||"Deno"in window||globalThis.process?.env?.NODE_ENV==="test"||!!globalThis.process?.env?.JEST_WORKER_ID||!!globalThis.process?.env?.VITEST_WORKER_ID,q={_ctx:null,_errorShape:null,_meta:null,queries:{},mutations:{},subscriptions:{},errorFormatter:b,transformer:v},P=["then","call","apply"];function Q(e){return function(t){let r=new Set(Object.keys(t).filter(e=>P.includes(e)));if(r.size>0)throw Error("Reserved words used in `router({})` call: "+Array.from(r).join(", "));let n=f({}),i=function e(t,r=[]){let i=f({});for(let[s,o]of Object.entries(t??{})){if(o._def&&"router"in o._def){i[s]=e(o._def.record,[...r,s]);continue}if("function"!=typeof o){i[s]=e(o,[...r,s]);continue}let t=[...r,s].join(".");if(n[t])throw Error(`Duplicate key: ${t}`);n[t]=o,i[s]=o}return i}(t),s={_config:e,router:!0,procedures:n,...q,record:i};return{...i,_def:s,createCaller:j()({_def:s})}}}function j(){return function(e){let t=e._def;return function(e,r){return u(async({path:n,args:i})=>{let s;let o=n.join(".");if(1===n.length&&"_def"===n[0])return t;let a=t.procedures[o];try{return s="function"==typeof e?await Promise.resolve(e()):e,await a({path:o,getRawInput:async()=>i[0],ctx:s,type:a._def.type})}catch(e){throw r?.onError?.({ctx:s,error:y(e),input:i[0],path:o,type:a._def.type}),e}})}}}function D(...e){let t=c({},...e.map(e=>e._def.record));return Q({errorFormatter:e.reduce((e,t)=>{if(t._def._config.errorFormatter&&t._def._config.errorFormatter!==b){if(e!==b&&e!==t._def._config.errorFormatter)throw Error("You seem to have several error formatters");return t._def._config.errorFormatter}return e},b),transformer:e.reduce((e,t)=>{if(t._def._config.transformer&&t._def._config.transformer!==v){if(e!==v&&e!==t._def._config.transformer)throw Error("You seem to have several transformers");return t._def._config.transformer}return e},v),isDev:e.every(e=>e._def._config.isDev),allowOutsideOfServer:e.every(e=>e._def._config.allowOutsideOfServer),isServer:e.every(e=>e._def._config.isServer),$types:e[0]?._def._config.$types})(t)}class _{context(){return new _}meta(){return new _}create(e){var t;let r={transformer:"input"in(t=e?.transformer??v)?t:{input:t,output:t},isDev:e?.isDev??globalThis.process?.env.NODE_ENV!=="production",allowOutsideOfServer:e?.allowOutsideOfServer??!1,errorFormatter:e?.errorFormatter??b,isServer:e?.isServer??E,$types:null,experimental:e?.experimental??{}};if(!(e?.isServer??E)&&e?.allowOutsideOfServer!==!0)throw Error("You're trying to use @trpc/server in a non-server environment. This is not supported by default.");return{_config:r,procedure:C({meta:e?.defaultMeta}),middleware:function(e){return function e(t){return{_middlewares:t,unstable_pipe:r=>e([...t,..."_middlewares"in r?r._middlewares:[r]])}}([e])},router:Q(r),mergeRouters:D,createCallerFactory:j()}}}new _,Symbol("TypeError");class M extends Error{static from(e,t={}){return e instanceof M||e instanceof Error&&"TRPCClientError"===e.name?(t.meta&&(e.meta={...e.meta,...t.meta}),e):h(e)&&h(e.error)&&"number"==typeof e.error.code&&"string"==typeof e.error.message?new M(e.error.message,{...t,result:e}):new M("string"==typeof e?e:h(e)&&"string"==typeof e.message?e.message:"Unknown error",{...t,cause:e})}constructor(e,t){let r=t?.cause;super(e,{cause:r}),this.meta=t?.meta,this.cause=r,this.shape=t?.result?.error,this.data=t?.result?.error.data,this.name="TRPCClientError",Object.setPrototypeOf(this,M.prototype)}}class T{$request(e){var t;return(t={links:this.links,op:{...e,context:e.context??{},id:++this.requestId}},i(e=>(function e(r=0,n=t.op){let i=t.links[r];if(!i)throw Error("No more links to execute - did you forget to add an ending link?");return i({op:n,next:t=>e(r+1,t)})})().subscribe(e))).pipe(e=>{let t=0,r=null,n=[];return i(i=>(t++,n.push(i),r||(r=e.subscribe({next(e){for(let t of n)t.next?.(e)},error(e){for(let t of n)t.error?.(e)},complete(){for(let e of n)e.complete?.()}})),{unsubscribe(){t--,function(){if(0===t&&r){let e=r;r=null,e.unsubscribe()}}();let e=n.findIndex(e=>e===i);e>-1&&n.splice(e,1)}}))})}async requestAsPromise(e){try{let t=this.$request(e);return(await function(e){let t=new AbortController;return new Promise((r,n)=>{let i=!1;function s(){i||(i=!0,o.unsubscribe())}t.signal.addEventListener("abort",()=>{n(t.signal.reason)});let o=e.subscribe({next(e){i=!0,r(e),s()},error(e){n(e)},complete(){t.abort(),s()}})})}(t)).result.data}catch(e){throw M.from(e)}}query(e,t,r){return this.requestAsPromise({type:"query",path:e,input:t,context:r?.context,signal:r?.signal})}mutation(e,t,r){return this.requestAsPromise({type:"mutation",path:e,input:t,context:r?.context,signal:r?.signal})}subscription(e,t,r){return this.$request({type:"subscription",path:e,input:t,context:r?.context,signal:null}).subscribe({next(e){"started"===e.result.type?r.onStarted?.({context:e.context}):"stopped"===e.result.type?r.onStopped?.():r.onData?.(e.result.data)},error(e){r.onError?.(e)},complete(){r.onComplete?.()}})}constructor(e){this.requestId=0,this.runtime={},this.links=e.links.map(e=>e(this.runtime))}}let k={query:"query",mutate:"mutation",subscribe:"subscription"},I=e=>k[e],A=()=>{throw Error("Something went wrong. Please submit an issue at https://github.com/trpc/trpc/issues/new")};function F(e){let t=null,r=null,n=()=>{clearTimeout(r),r=null,t=null};function i(){let r=function(t){let r=[[]],n=0;for(;;){let i=t[n];if(!i)break;let s=r[r.length-1];if(i.aborted){i.reject?.(Error("Aborted")),n++;continue}if(e.validate(s.concat(i).map(e=>e.key))){s.push(i),n++;continue}if(0===s.length){i.reject?.(Error("Input is too big for a single dispatch")),n++;continue}r.push([])}return r}(t);for(let t of(n(),r)){if(!t.length)continue;let r={items:t};for(let e of t)e.batch=r;e.fetch(r.items.map(e=>e.key)).then(async e=>{for(let t of(await Promise.all(e.map(async(e,t)=>{let n=r.items[t];try{let t=await Promise.resolve(e);n.resolve?.(t)}catch(e){n.reject?.(e)}n.batch=null,n.reject=null,n.resolve=null})),r.items))t.reject?.(Error("Missing result")),t.batch=null}).catch(e=>{for(let t of r.items)t.reject?.(e),t.batch=null})}}return{load:function(e){let n={aborted:!1,key:e,batch:null,resolve:A,reject:A},s=new Promise((e,r)=>{n.reject=r,n.resolve=e,t||(t=[]),t.push(n)});return r||(r=setTimeout(i)),s}}}let U=e=>"function"==typeof e;function N(e){return e?"input"in e?e:{input:e,output:e}:{input:{serialize:e=>e,deserialize:e=>e},output:{serialize:e=>e,deserialize:e=>e}}}let L={query:"GET",mutation:"POST",subscription:"PATCH"};function K(e){return"input"in e?e.transformer.input.serialize(e.input):function(e){let t={};for(let r=0;r<e.length;r++){let n=e[r];t[r]=n}return t}(e.inputs.map(t=>e.transformer.input.serialize(t)))}let H=e=>{let t=e.url.split("?"),r=t[0].replace(/\/$/,"")+"/"+e.path,n=[];if(t[1]&&n.push(t[1]),"inputs"in e&&n.push("batch=1"),"query"===e.type||"subscription"===e.type){let t=K(e);void 0!==t&&"POST"!==e.methodOverride&&n.push(`input=${encodeURIComponent(JSON.stringify(t))}`)}return n.length&&(r+="?"+n.join("&")),r},z=e=>{if("query"===e.type&&"POST"!==e.methodOverride)return;let t=K(e);return void 0!==t?JSON.stringify(t):void 0},G=e=>Y({...e,contentTypeHeader:"application/json",getUrl:H,getBody:z});class $ extends Error{constructor(){let e="AbortError";super(e),this.name=e,this.message=e}}let V=e=>{if(e?.aborted){if(e.throwIfAborted?.(),"undefined"!=typeof DOMException)throw new DOMException("AbortError","AbortError");throw new $}};async function W(e){V(e.signal);let t=e.getUrl(e),r=e.getBody(e),{type:n}=e,i=await (async()=>{let t=await e.headers();return Symbol.iterator in t?Object.fromEntries(t):t})(),s={...e.contentTypeHeader?{"content-type":e.contentTypeHeader}:{},...e.trpcAcceptHeader?{"trpc-accept":e.trpcAcceptHeader}:void 0,...i};return(function(e){if(e)return e;if("undefined"!=typeof window&&U(window.fetch))return window.fetch;if("undefined"!=typeof globalThis&&U(globalThis.fetch))return globalThis.fetch;throw Error("No fetch implementation found")})(e.fetch)(t,{method:e.methodOverride??L[n],signal:e.signal,body:r,headers:s})}async function Y(e){let t={},r=await W(e);t.response=r;let n=await r.json();return t.responseJSON=n,{json:n,meta:t}}var B=r(7294),J=r(5893),X=B.createContext(void 0),Z=e=>{let t=B.useContext(X);if(e)return e;if(!t)throw Error("No QueryClient set, use QueryClientProvider to set one");return t},ee=({client:e,children:t})=>(B.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),(0,J.jsx)(X.Provider,{value:e,children:t}));function et(e){return e}function er(e,t,r){if("object"!=typeof t||null===t)return;let n=e.getMutationCache(),i=e.getQueryCache(),s=r?.defaultOptions?.deserializeData??e.getDefaultOptions().hydrate?.deserializeData??et,o=t.mutations||[],a=t.queries||[];o.forEach(({state:t,...i})=>{n.build(e,{...e.getDefaultOptions().hydrate?.mutations,...r?.defaultOptions?.mutations,...i},t)}),a.forEach(({queryKey:t,state:n,queryHash:o,meta:a,promise:u})=>{let l=i.get(o),c=void 0===n.data?n.data:s(n.data);if(l){if(l.state.dataUpdatedAt<n.dataUpdatedAt){let{fetchStatus:e,...t}=n;l.setState({...t,data:c})}}else l=i.build(e,{...e.getDefaultOptions().hydrate?.queries,...r?.defaultOptions?.queries,queryKey:t,queryHash:o,meta:a},{...n,data:c,fetchStatus:"idle"});if(u){let e=Promise.resolve(u).then(s);l.fetch(void 0,{initialPromise:e})}})}var en=({children:e,options:t={},state:r,queryClient:n})=>{let i=Z(n),[s,o]=B.useState(),a=B.useRef(t);return a.current=t,B.useMemo(()=>{if(r){if("object"!=typeof r)return;let e=i.getQueryCache(),t=r.queries||[],n=[],u=[];for(let r of t){let t=e.get(r.queryHash);if(t){let e=r.state.dataUpdatedAt>t.state.dataUpdatedAt,n=s?.find(e=>e.queryHash===r.queryHash);e&&(!n||r.state.dataUpdatedAt>n.state.dataUpdatedAt)&&u.push(r)}else n.push(r)}n.length>0&&er(i,{queries:n},a.current),u.length>0&&o(e=>e?[...e,...u]:u)}},[i,s,r]),B.useEffect(()=>{s&&(er(i,{queries:s},a.current),o(void 0))},[i,s]),e};let ei=["client","ssrContext","ssrState","abortOnUnmount"],es=B.createContext?.(null);var eo="undefined"==typeof window||"Deno"in globalThis;function ea(){}function eu(e){return"number"==typeof e&&e>=0&&e!==1/0}function el(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ec(e,t){return"function"==typeof e?e(t):e}function eh(e,t){return"function"==typeof e?e(t):e}function ef(e,t){let{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:o,stale:a}=e;if(o){if(n){if(t.queryHash!==ep(o,t.options))return!1}else if(!em(t.queryKey,o))return!1}if("all"!==r){let e=t.isActive();if("active"===r&&!e||"inactive"===r&&e)return!1}return("boolean"!=typeof a||t.isStale()===a)&&(!i||i===t.state.fetchStatus)&&(!s||!!s(t))}function ed(e,t){let{exact:r,status:n,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(ey(t.options.mutationKey)!==ey(s))return!1}else if(!em(t.options.mutationKey,s))return!1}return(!n||t.state.status===n)&&(!i||!!i(t))}function ep(e,t){return(t?.queryKeyHashFn||ey)(e)}function ey(e){return JSON.stringify(e,(e,t)=>ew(t)?Object.keys(t).sort().reduce((e,r)=>(e[r]=t[r],e),{}):t)}function em(e,t){return e===t||typeof e==typeof t&&!!e&&!!t&&"object"==typeof e&&"object"==typeof t&&!Object.keys(t).some(r=>!em(e[r],t[r]))}function ev(e,t){if(e===t)return e;let r=eb(e)&&eb(t);if(r||ew(e)&&ew(t)){let n=r?e:Object.keys(e),i=n.length,s=r?t:Object.keys(t),o=s.length,a=r?[]:{},u=0;for(let i=0;i<o;i++){let o=r?i:s[i];(!r&&n.includes(o)||r)&&void 0===e[o]&&void 0===t[o]?(a[o]=void 0,u++):(a[o]=ev(e[o],t[o]),a[o]===e[o]&&void 0!==e[o]&&u++)}return i===o&&u===i?e:a}return t}function eg(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(let r in e)if(e[r]!==t[r])return!1;return!0}function eb(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function ew(e){if(!eO(e))return!1;let t=e.constructor;if(void 0===t)return!0;let r=t.prototype;return!!(eO(r)&&r.hasOwnProperty("isPrototypeOf"))&&Object.getPrototypeOf(e)===Object.prototype}function eO(e){return"[object Object]"===Object.prototype.toString.call(e)}function ex(e,t,r){return"function"==typeof r.structuralSharing?r.structuralSharing(e,t):!1!==r.structuralSharing?ev(e,t):t}function eC(e,t,r=0){let n=[...e,t];return r&&n.length>r?n.slice(1):n}function eS(e,t,r=0){let n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var eR=Symbol();function eE(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==eR?e.queryFn:()=>Promise.reject(Error(`Missing queryFn: '${e.queryHash}'`))}function eq(e,t,r){let n=e.flatMap(e=>e.split("."));if(!t&&(!r||"any"===r))return n.length?[n]:[];if("infinite"===r&&h(t)&&("direction"in t||"cursor"in t)){let{cursor:e,direction:r,...i}=t;return[n,{input:i,type:"infinite"}]}return[n,{...void 0!==t&&t!==eR&&{input:t},...r&&"any"!==r&&{type:r}}]}function eP(e){return eq(e,void 0,"any")}let eQ=e=>{switch(e){case"fetch":case"ensureData":case"prefetch":case"getData":case"setData":case"setQueriesData":return"query";case"fetchInfinite":case"prefetchInfinite":case"getInfiniteData":case"setInfiniteData":return"infinite";case"setMutationDefaults":case"getMutationDefaults":case"isMutating":case"cancel":case"invalidate":case"refetch":case"reset":return"any"}};function ej(e){return u(t=>{let r=t.path,n=r.join("."),[i,s]=t.args;return{queryKey:eq(r,i,"query"),queryFn:()=>e.query(n,i,s?.trpc),...s}})}var eD=function(){let e=[],t=0,r=e=>{e()},n=e=>{e()},i=e=>setTimeout(e,0),s=n=>{t?e.push(n):i(()=>{r(n)})},o=()=>{let t=e;e=[],t.length&&i(()=>{n(()=>{t.forEach(e=>{r(e)})})})};return{batch:e=>{let r;t++;try{r=e()}finally{--t||o()}return r},batchCalls:e=>(...t)=>{s(()=>{e(...t)})},schedule:s,setNotifyFunction:e=>{r=e},setBatchNotifyFunction:e=>{n=e},setScheduler:e=>{i=e}}}(),e_=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},eM=new class extends e_{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!eo&&window.addEventListener){let t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){let e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return"boolean"==typeof this.#e?this.#e:globalThis.document?.visibilityState!=="hidden"}},eT=new class extends e_{#n=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!eo&&window.addEventListener){let t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#n!==e&&(this.#n=e,this.listeners.forEach(t=>{t(e)}))}isOnline(){return this.#n}};function ek(e){return Math.min(1e3*2**e,3e4)}function eI(e){return(e??"online")!=="online"||eT.isOnline()}var eA=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function eF(e){return e instanceof eA}function eU(e){let t,r,n,i=!1,s=0,o=!1,a=new Promise((e,t)=>{r=e,n=t}),u=()=>eM.isFocused()&&("always"===e.networkMode||eT.isOnline())&&e.canRun(),l=()=>eI(e.networkMode)&&e.canRun(),c=n=>{o||(o=!0,e.onSuccess?.(n),t?.(),r(n))},h=r=>{o||(o=!0,e.onError?.(r),t?.(),n(r))},f=()=>new Promise(r=>{t=e=>{(o||u())&&r(e)},e.onPause?.()}).then(()=>{t=void 0,o||e.onContinue?.()}),d=()=>{let t;if(o)return;let r=0===s?e.initialPromise:void 0;try{t=r??e.fn()}catch(e){t=Promise.reject(e)}Promise.resolve(t).then(c).catch(t=>{if(o)return;let r=e.retry??(eo?0:3),n=e.retryDelay??ek,a="function"==typeof n?n(s,t):n,l=!0===r||"number"==typeof r&&s<r||"function"==typeof r&&r(s,t);if(i||!l){h(t);return}s++,e.onFail?.(s,t),new Promise(e=>{setTimeout(e,a)}).then(()=>u()?void 0:f()).then(()=>{i?h(t):d()})})};return{promise:a,cancel:t=>{o||(h(new eA(t)),e.abort?.())},continue:()=>(t?.(),a),cancelRetry:()=>{i=!0},continueRetry:()=>{i=!1},canStart:l,start:()=>(l()?d():f().then(d),a)}}var eN=class{#i;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),eu(this.gcTime)&&(this.#i=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(eo?1/0:3e5))}clearGcTimeout(){this.#i&&(clearTimeout(this.#i),this.#i=void 0)}},eL=class extends eN{#s;#o;#a;#u;#l;#c;constructor(e){super(),this.#c=!1,this.#l=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#a=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#s=function(e){let t="function"==typeof e.initialData?e.initialData():e.initialData,r=void 0!==t,n=r?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}(this.options),this.state=e.state??this.#s,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#u?.promise}setOptions(e){this.options={...this.#l,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#a.remove(this)}setData(e,t){let r=ex(this.state.data,e,this.options);return this.#h({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#h({type:"setState",state:e,setStateOptions:t})}cancel(e){let t=this.#u?.promise;return this.#u?.cancel(e),t?t.then(ea).catch(ea):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#s)}isActive(){return this.observers.some(e=>!1!==eh(e.options.enabled,this))}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return!!this.state.isInvalidated||(this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):void 0===this.state.data)}isStaleByTime(e=0){return this.state.isInvalidated||void 0===this.state.data||!el(this.state.dataUpdatedAt,e)}onFocus(){let e=this.observers.find(e=>e.shouldFetchOnWindowFocus());e?.refetch({cancelRefetch:!1}),this.#u?.continue()}onOnline(){let e=this.observers.find(e=>e.shouldFetchOnReconnect());e?.refetch({cancelRefetch:!1}),this.#u?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#a.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#u&&(this.#c?this.#u.cancel({revert:!0}):this.#u.cancelRetry()),this.scheduleGc()),this.#a.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#h({type:"invalidate"})}fetch(e,t){if("idle"!==this.state.fetchStatus){if(void 0!==this.state.data&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#u)return this.#u.continueRetry(),this.#u.promise}if(e&&this.setOptions(e),!this.options.queryFn){let e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}let r=new AbortController,n=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#c=!0,r.signal)})},i={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:()=>{let e=eE(this.options,t),r={queryKey:this.queryKey,meta:this.meta};return(n(r),this.#c=!1,this.options.persister)?this.options.persister(e,r,this):e(r)}};n(i),this.options.behavior?.onFetch(i,this),this.#o=this.state,("idle"===this.state.fetchStatus||this.state.fetchMeta!==i.fetchOptions?.meta)&&this.#h({type:"fetch",meta:i.fetchOptions?.meta});let s=e=>{eF(e)&&e.silent||this.#h({type:"error",error:e}),eF(e)||(this.#a.config.onError?.(e,this),this.#a.config.onSettled?.(this.state.data,e,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.#u=eU({initialPromise:t?.initialPromise,fn:i.fetchFn,abort:r.abort.bind(r),onSuccess:e=>{if(void 0===e){s(Error(`${this.queryHash} data is undefined`));return}this.setData(e),this.#a.config.onSuccess?.(e,this),this.#a.config.onSettled?.(e,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:s,onFail:(e,t)=>{this.#h({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#h({type:"pause"})},onContinue:()=>{this.#h({type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0}),this.#u.start()}#h(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...eK(t.data,this.options),fetchMeta:e.meta??null};case"success":return{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":let r=e.error;if(eF(r)&&r.revert&&this.#o)return{...this.#o,fetchStatus:"idle"};return{...t,error:r,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),eD.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),this.#a.notify({query:this,type:"updated",action:e})})}};function eK(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:eI(t.networkMode)?"fetching":"paused",...void 0===e&&{error:null,status:"pending"}}}var eH=class extends e_{constructor(e,t){super(),this.options=t,this.#f=e,this.#d=null,this.bindMethods(),this.setOptions(t)}#f;#p=void 0;#y=void 0;#m=void 0;#v;#g;#d;#b;#w;#O;#x;#C;#S;#R=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#p.addObserver(this),ez(this.#p,this.options)?this.#E():this.updateResult(),this.#q())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return eG(this.#p,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return eG(this.#p,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#P(),this.#Q(),this.#p.removeObserver(this)}setOptions(e,t){let r=this.options,n=this.#p;if(this.options=this.#f.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof eh(this.options.enabled,this.#p))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#j(),this.#p.setOptions(this.options),r._defaulted&&!eg(this.options,r)&&this.#f.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#p,observer:this});let i=this.hasListeners();i&&e$(this.#p,n,this.options,r)&&this.#E(),this.updateResult(t),i&&(this.#p!==n||eh(this.options.enabled,this.#p)!==eh(r.enabled,this.#p)||ec(this.options.staleTime,this.#p)!==ec(r.staleTime,this.#p))&&this.#D();let s=this.#_();i&&(this.#p!==n||eh(this.options.enabled,this.#p)!==eh(r.enabled,this.#p)||s!==this.#S)&&this.#M(s)}getOptimisticResult(e){let t=this.#f.getQueryCache().build(this.#f,e),r=this.createResult(t,e);return eg(this.getCurrentResult(),r)||(this.#m=r,this.#g=this.options,this.#v=this.#p.state),r}getCurrentResult(){return this.#m}trackResult(e,t){let r={};return Object.keys(e).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(n),t?.(n),e[n])})}),r}trackProp(e){this.#R.add(e)}getCurrentQuery(){return this.#p}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){let t=this.#f.defaultQueryOptions(e),r=this.#f.getQueryCache().build(this.#f,t);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#E({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#m))}#E(e){this.#j();let t=this.#p.fetch(this.options,e);return e?.throwOnError||(t=t.catch(ea)),t}#D(){this.#P();let e=ec(this.options.staleTime,this.#p);if(eo||this.#m.isStale||!eu(e))return;let t=el(this.#m.dataUpdatedAt,e);this.#x=setTimeout(()=>{this.#m.isStale||this.updateResult()},t+1)}#_(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#p):this.options.refetchInterval)??!1}#M(e){this.#Q(),this.#S=e,!eo&&!1!==eh(this.options.enabled,this.#p)&&eu(this.#S)&&0!==this.#S&&(this.#C=setInterval(()=>{(this.options.refetchIntervalInBackground||eM.isFocused())&&this.#E()},this.#S))}#q(){this.#D(),this.#M(this.#_())}#P(){this.#x&&(clearTimeout(this.#x),this.#x=void 0)}#Q(){this.#C&&(clearInterval(this.#C),this.#C=void 0)}createResult(e,t){let r;let n=this.#p,i=this.options,s=this.#m,o=this.#v,a=this.#g,u=e!==n?e.state:this.#y,{state:l}=e,c={...l},h=!1;if(t._optimisticResults){let r=this.hasListeners(),s=!r&&ez(e,t),o=r&&e$(e,n,t,i);(s||o)&&(c={...c,...eK(l.data,e.options)}),"isRestoring"===t._optimisticResults&&(c.fetchStatus="idle")}let{error:f,errorUpdatedAt:d,status:p}=c;if(t.select&&void 0!==c.data){if(s&&c.data===o?.data&&t.select===this.#b)r=this.#w;else try{this.#b=t.select,r=t.select(c.data),r=ex(s?.data,r,t),this.#w=r,this.#d=null}catch(e){this.#d=e}}else r=c.data;if(void 0!==t.placeholderData&&void 0===r&&"pending"===p){let e;if(s?.isPlaceholderData&&t.placeholderData===a?.placeholderData)e=s.data;else if(e="function"==typeof t.placeholderData?t.placeholderData(this.#O?.state.data,this.#O):t.placeholderData,t.select&&void 0!==e)try{e=t.select(e),this.#d=null}catch(e){this.#d=e}void 0!==e&&(p="success",r=ex(s?.data,e,t),h=!0)}this.#d&&(f=this.#d,r=this.#w,d=Date.now(),p="error");let y="fetching"===c.fetchStatus,m="pending"===p,v="error"===p,g=m&&y,b=void 0!==r;return{status:p,fetchStatus:c.fetchStatus,isPending:m,isSuccess:"success"===p,isError:v,isInitialLoading:g,isLoading:g,data:r,dataUpdatedAt:c.dataUpdatedAt,error:f,errorUpdatedAt:d,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>u.dataUpdateCount||c.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!m,isLoadingError:v&&!b,isPaused:"paused"===c.fetchStatus,isPlaceholderData:h,isRefetchError:v&&b,isStale:eV(e,t),refetch:this.refetch}}updateResult(e){let t=this.#m,r=this.createResult(this.#p,this.options);if(this.#v=this.#p.state,this.#g=this.options,void 0!==this.#v.data&&(this.#O=this.#p),eg(r,t))return;this.#m=r;let n={};e?.listeners!==!1&&(()=>{if(!t)return!0;let{notifyOnChangeProps:e}=this.options,r="function"==typeof e?e():e;if("all"===r||!r&&!this.#R.size)return!0;let n=new Set(r??this.#R);return this.options.throwOnError&&n.add("error"),Object.keys(this.#m).some(e=>this.#m[e]!==t[e]&&n.has(e))})()&&(n.listeners=!0),this.#T({...n,...e})}#j(){let e=this.#f.getQueryCache().build(this.#f,this.options);if(e===this.#p)return;let t=this.#p;this.#p=e,this.#y=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#q()}#T(e){eD.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#m)}),this.#f.getQueryCache().notify({query:this.#p,type:"observerResultsUpdated"})})}};function ez(e,t){return!1!==eh(t.enabled,e)&&void 0===e.state.data&&!("error"===e.state.status&&!1===t.retryOnMount)||void 0!==e.state.data&&eG(e,t,t.refetchOnMount)}function eG(e,t,r){if(!1!==eh(t.enabled,e)){let n="function"==typeof r?r(e):r;return"always"===n||!1!==n&&eV(e,t)}return!1}function e$(e,t,r,n){return(e!==t||!1===eh(n.enabled,e))&&(!r.suspense||"error"!==e.state.status)&&eV(e,r)}function eV(e,t){return!1!==eh(t.enabled,e)&&e.isStaleByTime(ec(t.staleTime,e))}var eW=B.createContext((n=!1,{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n})),eY=()=>B.useContext(eW),eB=B.createContext(!1),eJ=()=>B.useContext(eB);function eX(e,t){return"function"==typeof e?e(...t):!!e}function eZ(){}eB.Provider;var e0=(e,t)=>{(e.suspense||e.throwOnError)&&!t.isReset()&&(e.retryOnMount=!1)},e1=e=>{B.useEffect(()=>{e.clearReset()},[e])},e2=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&eX(r,[e.error,n]),e9=(e,t)=>void 0===t.state.data,e4=e=>{e.suspense&&("number"!=typeof e.staleTime&&(e.staleTime=1e3),"number"==typeof e.gcTime&&(e.gcTime=Math.max(e.gcTime,1e3)))},e6=(e,t)=>e.isLoading&&e.isFetching&&!t,e3=(e,t)=>e?.suspense&&t.isPending,e5=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function e7(e,t,r){let n=Z(r),i=eJ(),s=eY(),o=n.defaultQueryOptions(e);n.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=i?"isRestoring":"optimistic",e4(o),e0(o,s),e1(s);let[a]=B.useState(()=>new t(n,o)),u=a.getOptimisticResult(o);if(B.useSyncExternalStore(B.useCallback(e=>{let t=i?()=>void 0:a.subscribe(eD.batchCalls(e));return a.updateResult(),t},[a,i]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),B.useEffect(()=>{a.setOptions(o,{listeners:!1})},[o,a]),e3(o,u))throw e5(o,a,s);if(e2({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw u.error;return n.getDefaultOptions().queries?._experimental_afterQuery?.(o,u),o.notifyOnChangeProps?u:a.trackResult(u)}var e8=class extends eN{#k;#I;#u;constructor(e){super(),this.mutationId=e.mutationId,this.#I=e.mutationCache,this.#k=[],this.state=e.state||te(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#k.includes(e)||(this.#k.push(e),this.clearGcTimeout(),this.#I.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#k=this.#k.filter(t=>t!==e),this.scheduleGc(),this.#I.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#k.length||("pending"===this.state.status?this.scheduleGc():this.#I.remove(this))}continue(){return this.#u?.continue()??this.execute(this.state.variables)}async execute(e){this.#u=eU({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(Error("No mutationFn found")),onFail:(e,t)=>{this.#h({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#h({type:"pause"})},onContinue:()=>{this.#h({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#I.canRun(this)});let t="pending"===this.state.status,r=!this.#u.canStart();try{if(!t){this.#h({type:"pending",variables:e,isPaused:r}),await this.#I.config.onMutate?.(e,this);let t=await this.options.onMutate?.(e);t!==this.state.context&&this.#h({type:"pending",context:t,variables:e,isPaused:r})}let n=await this.#u.start();return await this.#I.config.onSuccess?.(n,e,this.state.context,this),await this.options.onSuccess?.(n,e,this.state.context),await this.#I.config.onSettled?.(n,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(n,null,e,this.state.context),this.#h({type:"success",data:n}),n}catch(t){try{throw await this.#I.config.onError?.(t,e,this.state.context,this),await this.options.onError?.(t,e,this.state.context),await this.#I.config.onSettled?.(void 0,t,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,t,e,this.state.context),t}finally{this.#h({type:"error",error:t})}}finally{this.#I.runNext(this)}}#h(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),eD.batch(()=>{this.#k.forEach(t=>{t.onMutationUpdate(e)}),this.#I.notify({mutation:this,type:"updated",action:e})})}};function te(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var tt=class extends e_{#f;#m=void 0;#A;#F;constructor(e,t){super(),this.#f=e,this.setOptions(t),this.bindMethods(),this.#U()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#f.defaultMutationOptions(e),eg(this.options,t)||this.#f.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#A,observer:this}),t?.mutationKey&&this.options.mutationKey&&ey(t.mutationKey)!==ey(this.options.mutationKey)?this.reset():this.#A?.state.status==="pending"&&this.#A.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#A?.removeObserver(this)}onMutationUpdate(e){this.#U(),this.#T(e)}getCurrentResult(){return this.#m}reset(){this.#A?.removeObserver(this),this.#A=void 0,this.#U(),this.#T()}mutate(e,t){return this.#F=t,this.#A?.removeObserver(this),this.#A=this.#f.getMutationCache().build(this.#f,this.options),this.#A.addObserver(this),this.#A.execute(e)}#U(){let e=this.#A?.state??te();this.#m={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#T(e){eD.batch(()=>{if(this.#F&&this.hasListeners()){let t=this.#m.variables,r=this.#m.context;e?.type==="success"?(this.#F.onSuccess?.(e.data,t,r),this.#F.onSettled?.(e.data,null,t,r)):e?.type==="error"&&(this.#F.onError?.(e.error,t,r),this.#F.onSettled?.(void 0,e.error,t,r))}this.listeners.forEach(e=>{e(this.#m)})})}};function tr(e){return{onFetch:(t,r)=>{let n=async()=>{let r;let n=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,s=t.state.data?.pages||[],o=t.state.data?.pageParams||[],a=!1,u=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(t.signal.aborted?a=!0:t.signal.addEventListener("abort",()=>{a=!0}),t.signal)})},l=eE(t.options,t.fetchOptions),c=async(e,r,n)=>{if(a)return Promise.reject();if(null==r&&e.pages.length)return Promise.resolve(e);let i={queryKey:t.queryKey,pageParam:r,direction:n?"backward":"forward",meta:t.options.meta};u(i);let s=await l(i),{maxPages:o}=t.options,c=n?eS:eC;return{pages:c(e.pages,s,o),pageParams:c(e.pageParams,r,o)}};if(i&&s.length){let e="backward"===i,t={pages:s,pageParams:o},a=(e?ti:tn)(n,t);r=await c(t,a,e)}else{r=await c({pages:[],pageParams:[]},o[0]??n.initialPageParam);let t=e??s.length;for(let e=1;e<t;e++){let e=tn(n,r);if(null==e)break;r=await c(r,e)}}return r};t.options.persister?t.fetchFn=()=>t.options.persister?.(n,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=n}}}function tn(e,{pages:t,pageParams:r}){let n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function ti(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var ts=class extends eH{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e,t){super.setOptions({...e,behavior:tr()},t)}getOptimisticResult(e){return e.behavior=tr(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){var r,n;let{state:i}=e,s=super.createResult(e,t),{isFetching:o,isRefetching:a,isError:u,isRefetchError:l}=s,c=i.fetchMeta?.fetchMore?.direction,h=u&&"forward"===c,f=o&&"forward"===c,d=u&&"backward"===c,p=o&&"backward"===c;return{...s,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:!!(r=i.data)&&null!=tn(t,r),hasPreviousPage:!!(n=i.data)&&!!t.getPreviousPageParam&&null!=ti(t,n),isFetchNextPageError:h,isFetchingNextPage:f,isFetchPreviousPageError:d,isFetchingPreviousPage:p,isRefetchError:l&&!h&&!d,isRefetching:a&&!f&&!p}}};function to(e,t){return e.filter(e=>!t.includes(e))}var ta=class extends e_{#f;#N;#L;#k;#K;#H;#z;constructor(e,t,r){super(),this.#f=e,this.#L=[],this.#k=[],this.#N=[],this.setQueries(t)}onSubscribe(){1===this.listeners.size&&this.#k.forEach(e=>{e.subscribe(t=>{this.#G(e,t)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.#k.forEach(e=>{e.destroy()})}setQueries(e,t,r){this.#L=e,eD.batch(()=>{let e=this.#k,t=this.#$(this.#L);t.forEach(e=>e.observer.setOptions(e.defaultedQueryOptions,r));let n=t.map(e=>e.observer),i=n.map(e=>e.getCurrentResult()),s=n.some((t,r)=>t!==e[r]);(e.length!==n.length||s)&&(this.#k=n,this.#N=i,this.hasListeners()&&(to(e,n).forEach(e=>{e.destroy()}),to(n,e).forEach(e=>{e.subscribe(t=>{this.#G(e,t)})}),this.#T()))})}getCurrentResult(){return this.#N}getQueries(){return this.#k.map(e=>e.getCurrentQuery())}getObservers(){return this.#k}getOptimisticResult(e,t){let r=this.#$(e),n=r.map(e=>e.observer.getOptimisticResult(e.defaultedQueryOptions));return[n,e=>this.#V(e??n,t),()=>r.map((e,t)=>{let i=n[t];return e.defaultedQueryOptions.notifyOnChangeProps?i:e.observer.trackResult(i,e=>{r.forEach(t=>{t.observer.trackProp(e)})})})]}#V(e,t){return t?(this.#K&&this.#N===this.#z&&t===this.#H||(this.#H=t,this.#z=this.#N,this.#K=ev(this.#K,t(e))),this.#K):e}#$(e){let t=new Map(this.#k.map(e=>[e.options.queryHash,e])),r=e.map(e=>this.#f.defaultQueryOptions(e)),n=r.flatMap(e=>{let r=t.get(e.queryHash);return null!=r?[{defaultedQueryOptions:e,observer:r}]:[]}),i=new Set(n.map(e=>e.defaultedQueryOptions.queryHash)),s=r.filter(e=>!i.has(e.queryHash)),o=e=>{let t=this.#f.defaultQueryOptions(e);return this.#k.find(e=>e.options.queryHash===t.queryHash)??new eH(this.#f,t)},a=s.map(e=>({defaultedQueryOptions:e,observer:o(e)}));return n.concat(a).sort((e,t)=>r.indexOf(e.defaultedQueryOptions)-r.indexOf(t.defaultedQueryOptions))}#G(e,t){let r=this.#k.indexOf(e);-1!==r&&(this.#N=function(e,t,r){let n=e.slice(0);return n[t]=r,n}(this.#N,r,t),this.#T())}#T(){eD.batch(()=>{this.listeners.forEach(e=>{e(this.#N)})})}};function tu({queries:e,...t},r){let n=Z(r),i=eJ(),s=eY(),o=B.useMemo(()=>e.map(e=>{let t=n.defaultQueryOptions(e);return t._optimisticResults=i?"isRestoring":"optimistic",t}),[e,n,i]);o.forEach(e=>{e4(e),e0(e,s)}),e1(s);let[a]=B.useState(()=>new ta(n,o,t)),[u,l,c]=a.getOptimisticResult(o,t.combine);B.useSyncExternalStore(B.useCallback(e=>i?()=>void 0:a.subscribe(eD.batchCalls(e)),[a,i]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),B.useEffect(()=>{a.setQueries(o,t,{listeners:!1})},[o,t,a]);let h=u.some((e,t)=>e3(o[t],e))?u.flatMap((e,t)=>{let r=o[t];if(r){let t=new eH(n,r);if(e3(r,e))return e5(r,t,s);e6(e,i)&&e5(r,t,s)}return[]}):[];if(h.length>0)throw Promise.all(h);let f=u.find((e,t)=>{let r=o[t];return r&&e2({result:e,errorResetBoundary:s,throwOnError:r.throwOnError,query:n.getQueryCache().get(r.queryHash)})});if(f?.error)throw f.error;return l(c())}function tl(e,t,r){let n=e[0],i=e[1]?.input;return r&&(i={...i??{},...r.pageParam?{cursor:r.pageParam}:{},direction:r.direction}),[n.join("."),i,t?.trpc]}function tc(e){let t=e.path.join(".");return B.useMemo(()=>({path:t}),[t])}function th(e){let t=e?.overrides?.useMutation?.onSuccess??(e=>e.originalFn()),r=e?.context??es;function n(){let e=B.useContext(r);if(!e)throw Error("Unable to find tRPC Context. Did you forget to wrap your App inside `withTRPC` HoC?");return e}function i(e,t){let{queryClient:r,ssrState:i}=n();return i&&"mounted"!==i&&r.getQueryCache().find({queryKey:e})?.state.status==="error"?{retryOnMount:!1,...t}:t}return{Provider:e=>{let{abortOnUnmount:t=!1,client:n,queryClient:i,ssrContext:s}=e,[o,a]=B.useState(e.ssrState??!1),u=B.useMemo(()=>(function(e){let{client:t,queryClient:r}=e,n=t instanceof T?t:t.__untypedClient;return{fetchQuery:(e,t)=>r.fetchQuery({...t,queryKey:e,queryFn:()=>n.query(...tl(e,t))}),fetchInfiniteQuery:(e,t)=>r.fetchInfiniteQuery({...t,queryKey:e,queryFn:({pageParam:r,direction:i})=>n.query(...tl(e,t,{pageParam:r,direction:i})),initialPageParam:t?.initialCursor??null}),prefetchQuery:(e,t)=>r.prefetchQuery({...t,queryKey:e,queryFn:()=>n.query(...tl(e,t))}),prefetchInfiniteQuery:(e,t)=>r.prefetchInfiniteQuery({...t,queryKey:e,queryFn:({pageParam:r,direction:i})=>n.query(...tl(e,t,{pageParam:r,direction:i})),initialPageParam:t?.initialCursor??null}),ensureQueryData:(e,t)=>r.ensureQueryData({...t,queryKey:e,queryFn:()=>n.query(...tl(e,t))}),invalidateQueries:(e,t,n)=>r.invalidateQueries({...t,queryKey:e},n),resetQueries:(e,t,n)=>r.resetQueries({...t,queryKey:e},n),refetchQueries:(e,t,n)=>r.refetchQueries({...t,queryKey:e},n),cancelQuery:(e,t)=>r.cancelQueries({queryKey:e},t),setQueryData:(e,t,n)=>r.setQueryData(e,t,n),setQueriesData:(e,t,n,i)=>r.setQueriesData({...t,queryKey:e},n,i),getQueryData:e=>r.getQueryData(e),setInfiniteQueryData:(e,t,n)=>r.setQueryData(e,t,n),getInfiniteQueryData:e=>r.getQueryData(e),setMutationDefaults:(t,i)=>{let s=t[0];return r.setMutationDefaults(t,"function"==typeof i?i({canonicalMutationFn:t=>n.mutation(...tl([s,{input:t}],e))}):i)},getMutationDefaults:e=>r.getMutationDefaults(e),isMutating:e=>r.isMutating({...e,exact:!0})}})({client:n,queryClient:i}),[n,i]),l=B.useMemo(()=>({abortOnUnmount:t,queryClient:i,client:n,ssrContext:s??null,ssrState:o,...u}),[t,n,u,i,s,o]);return B.useEffect(()=>{a(e=>!!e&&"mounted")},[]),B.createElement(r.Provider,{value:l},e.children)},createClient:e=>new T(e),useContext:n,useUtils:n,useQuery:function(t,r,s){let{abortOnUnmount:o,client:a,ssrState:u,queryClient:l,prefetchQuery:c}=n(),f=eq(t,r,"query"),p=l.getQueryDefaults(f),y=r===eR;"undefined"!=typeof window||"prepass"!==u||s?.trpc?.ssr===!1||(s?.enabled??p?.enabled)===!1||y||l.getQueryCache().find({queryKey:f})||c(f,s);let m=i(f,{...p,...s}),v=s?.trpc?.abortOnUnmount??e?.abortOnUnmount??o,g=e7({...m,queryKey:f,queryFn:y?r:async e=>{let t={...m,trpc:{...m?.trpc,...v?{signal:e.signal}:{signal:null}}},r=await a.query(...tl(f,t));if(d&&h(r)&&Symbol.asyncIterator in r){let t=l.getQueryCache().build(e.queryKey,{queryKey:f});t.setState({data:[],status:"success"});let n=[];for await(let e of r)n.push(e),t.setState({data:[...n]});return n}return r}},eH,l);return g.trpc=tc({path:t}),g},usePrefetchQuery:function(t,r,i){let s=n(),o=eq(t,r,"query"),a=r===eR,u=i?.trpc?.abortOnUnmount??e?.abortOnUnmount??s.abortOnUnmount;!function(e){let t=Z();t.getQueryState(e.queryKey)||t.prefetchQuery(e)}({...i,queryKey:o,queryFn:a?r:e=>{let t={trpc:{...u?{signal:e.signal}:{}}};return s.client.query(...tl(o,t))}})},useSuspenseQuery:function(t,r,i){var s,o;let a=n(),u=eq(t,r,"query"),l=i?.trpc?.abortOnUnmount??e?.abortOnUnmount??a.abortOnUnmount,c=(s={...i,queryKey:u,queryFn:e=>{let t={trpc:{...l?{signal:e.signal}:{signal:null}}};return a.client.query(...tl(u,t))}},o=a.queryClient,e7({...s,enabled:!0,suspense:!0,throwOnError:e9,placeholderData:void 0},eH,o));return c.trpc=tc({path:t}),[c.data,c]},useQueries:e=>{let{ssrState:t,queryClient:r,prefetchQuery:i,client:s}=n(),o=e(ej(s));if("undefined"==typeof window&&"prepass"===t)for(let e of o)e.trpc?.ssr===!1||r.getQueryCache().find({queryKey:e.queryKey})||i(e.queryKey,e);return tu({queries:o.map(e=>({...e,queryKey:e.queryKey}))},r)},useSuspenseQueries:e=>{var t;let{queryClient:r,client:i}=n(),s=tu({...t={queries:e(ej(i)).map(e=>({...e,queryKey:e.queryKey}))},queries:t.queries.map(e=>({...e,suspense:!0,throwOnError:e9,enabled:!0,placeholderData:void 0}))},r);return[s.map(e=>e.data),s]},useMutation:function(e,r){let{client:i,queryClient:s}=n(),o=eP(e),a=s.defaultMutationOptions(s.getMutationDefaults(o)),u=function(e,t){let r=Z(t),[n]=B.useState(()=>new tt(r,e));B.useEffect(()=>{n.setOptions(e)},[n,e]);let i=B.useSyncExternalStore(B.useCallback(e=>n.subscribe(eD.batchCalls(e)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=B.useCallback((e,t)=>{n.mutate(e,t).catch(eZ)},[n]);if(i.error&&eX(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}({...r,mutationKey:o,mutationFn:t=>i.mutation(...tl([e,{input:t}],r)),onSuccess:(...e)=>t({originalFn:()=>r?.onSuccess?.(...e)??a?.onSuccess?.(...e),queryClient:s,meta:r?.meta??a?.meta??{}})},s);return u.trpc=tc({path:e}),u},useSubscription:function(e,t,r){let i=r?.enabled??t!==eR,s=ey(eq(e,t,"any")),{client:o}=n(),a=B.useRef(r);a.current=r,B.useEffect(()=>{if(!i)return;let r=!1,n=o.subscription(e.join("."),t??void 0,{onStarted:()=>{r||a.current.onStarted?.()},onData:e=>{r||a.current.onData(e)},onError:e=>{r||a.current.onError?.(e)}});return()=>{r=!0,n.unsubscribe()}},[s,i])},useInfiniteQuery:function(e,t,r){let{client:s,ssrState:o,prefetchInfiniteQuery:a,queryClient:u,abortOnUnmount:l}=n(),c=eq(e,t,"infinite"),h=u.getQueryDefaults(c),f=t===eR;"undefined"!=typeof window||"prepass"!==o||r?.trpc?.ssr===!1||(r?.enabled??h?.enabled)===!1||f||u.getQueryCache().find({queryKey:c})||a(c,{...h,...r});let d=i(c,{...h,...r}),p=r?.trpc?.abortOnUnmount??l,y=e7({...d,initialPageParam:r.initialCursor??null,persister:r.persister,queryKey:c,queryFn:f?t:e=>{let t={...d,trpc:{...d?.trpc,...p?{signal:e.signal}:{signal:null}}};return s.query(...tl(c,t,{pageParam:e.pageParam??r.initialCursor,direction:e.direction}))}},ts,u);return y.trpc=tc({path:e}),y},usePrefetchInfiniteQuery:function(e,t,r){let s=n(),o=eq(e,t,"infinite"),a=s.queryClient.getQueryDefaults(o),u=t===eR,l=i(o,{...a,...r}),c=r?.trpc?.abortOnUnmount??s.abortOnUnmount;!function(e){let t=Z();t.getQueryState(e.queryKey)||t.prefetchInfiniteQuery(e)}({...r,initialPageParam:r.initialCursor??null,queryKey:o,queryFn:u?t:e=>{let t={...l,trpc:{...l?.trpc,...c?{signal:e.signal}:{}}};return s.client.query(...tl(o,t,{pageParam:e.pageParam??r.initialCursor,direction:e.direction}))}})},useSuspenseInfiniteQuery:function(e,t,r){var s,o;let a=n(),u=eq(e,t,"infinite"),l=a.queryClient.getQueryDefaults(u),c=i(u,{...l,...r}),h=r?.trpc?.abortOnUnmount??a.abortOnUnmount,f=(s={...r,initialPageParam:r.initialCursor??null,queryKey:u,queryFn:e=>{let t={...c,trpc:{...c?.trpc,...h?{signal:e.signal}:{}}};return a.client.query(...tl(u,t,{pageParam:e.pageParam??r.initialCursor,direction:e.direction}))}},o=a.queryClient,e7({...s,enabled:!0,suspense:!0,throwOnError:e9},ts,o));return f.trpc=tc({path:e}),[f.data,f]}}}var tf=class extends e_{constructor(e={}){super(),this.config=e,this.#L=new Map}#L;build(e,t,r){let n=t.queryKey,i=t.queryHash??ep(n,t),s=this.get(i);return s||(s=new eL({cache:this,queryKey:n,queryHash:i,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(s)),s}add(e){this.#L.has(e.queryHash)||(this.#L.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){let t=this.#L.get(e.queryHash);t&&(e.destroy(),t===e&&this.#L.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){eD.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#L.get(e)}getAll(){return[...this.#L.values()]}find(e){let t={exact:!0,...e};return this.getAll().find(e=>ef(t,e))}findAll(e={}){let t=this.getAll();return Object.keys(e).length>0?t.filter(t=>ef(e,t)):t}notify(e){eD.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){eD.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){eD.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},td=class extends e_{constructor(e={}){super(),this.config=e,this.#W=new Map,this.#Y=Date.now()}#W;#Y;build(e,t,r){let n=new e8({mutationCache:this,mutationId:++this.#Y,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){let t=tp(e),r=this.#W.get(t)??[];r.push(e),this.#W.set(t,r),this.notify({type:"added",mutation:e})}remove(e){let t=tp(e);if(this.#W.has(t)){let r=this.#W.get(t)?.filter(t=>t!==e);r&&(0===r.length?this.#W.delete(t):this.#W.set(t,r))}this.notify({type:"removed",mutation:e})}canRun(e){let t=this.#W.get(tp(e))?.find(e=>"pending"===e.state.status);return!t||t===e}runNext(e){let t=this.#W.get(tp(e))?.find(t=>t!==e&&t.state.isPaused);return t?.continue()??Promise.resolve()}clear(){eD.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...this.#W.values()].flat()}find(e){let t={exact:!0,...e};return this.getAll().find(e=>ed(t,e))}findAll(e={}){return this.getAll().filter(t=>ed(e,t))}notify(e){eD.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){let e=this.getAll().filter(e=>e.state.isPaused);return eD.batch(()=>Promise.all(e.map(e=>e.continue().catch(ea))))}};function tp(e){return e.options.scope?.id??String(e.mutationId)}var ty=class{#B;#I;#l;#J;#X;#Z;#ee;#et;constructor(e={}){this.#B=e.queryCache||new tf,this.#I=e.mutationCache||new td,this.#l=e.defaultOptions||{},this.#J=new Map,this.#X=new Map,this.#Z=0}mount(){this.#Z++,1===this.#Z&&(this.#ee=eM.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#B.onFocus())}),this.#et=eT.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#B.onOnline())}))}unmount(){this.#Z--,0===this.#Z&&(this.#ee?.(),this.#ee=void 0,this.#et?.(),this.#et=void 0)}isFetching(e){return this.#B.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#I.findAll({...e,status:"pending"}).length}getQueryData(e){let t=this.defaultQueryOptions({queryKey:e});return this.#B.get(t.queryHash)?.state.data}ensureQueryData(e){let t=this.getQueryData(e.queryKey);if(void 0===t)return this.fetchQuery(e);{let r=this.defaultQueryOptions(e),n=this.#B.build(this,r);return e.revalidateIfStale&&n.isStaleByTime(ec(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return this.#B.findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,r){let n=this.defaultQueryOptions({queryKey:e}),i=this.#B.get(n.queryHash),s=i?.state.data,o="function"==typeof t?t(s):t;if(void 0!==o)return this.#B.build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return eD.batch(()=>this.#B.findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,r)]))}getQueryState(e){let t=this.defaultQueryOptions({queryKey:e});return this.#B.get(t.queryHash)?.state}removeQueries(e){let t=this.#B;eD.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){let r=this.#B,n={type:"active",...e};return eD.batch(()=>(r.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){let r={revert:!0,...t};return Promise.all(eD.batch(()=>this.#B.findAll(e).map(e=>e.cancel(r)))).then(ea).catch(ea)}invalidateQueries(e={},t={}){return eD.batch(()=>{if(this.#B.findAll(e).forEach(e=>{e.invalidate()}),"none"===e.refetchType)return Promise.resolve();let r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){let r={...t,cancelRefetch:t?.cancelRefetch??!0};return Promise.all(eD.batch(()=>this.#B.findAll(e).filter(e=>!e.isDisabled()).map(e=>{let t=e.fetch(void 0,r);return r.throwOnError||(t=t.catch(ea)),"paused"===e.state.fetchStatus?Promise.resolve():t}))).then(ea)}fetchQuery(e){let t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);let r=this.#B.build(this,t);return r.isStaleByTime(ec(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ea).catch(ea)}fetchInfiniteQuery(e){return e.behavior=tr(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ea).catch(ea)}resumePausedMutations(){return eT.isOnline()?this.#I.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#B}getMutationCache(){return this.#I}getDefaultOptions(){return this.#l}setDefaultOptions(e){this.#l=e}setQueryDefaults(e,t){this.#J.set(ey(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){let t=[...this.#J.values()],r={};return t.forEach(t=>{em(e,t.queryKey)&&(r={...r,...t.defaultOptions})}),r}setMutationDefaults(e,t){this.#X.set(ey(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){let t=[...this.#X.values()],r={};return t.forEach(t=>{em(e,t.mutationKey)&&(r={...r,...t.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;let t={...this.#l.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ep(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),!0!==t.enabled&&t.queryFn===eR&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#l.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#B.clear(),this.#I.clear()}};let tm=e=>e.queryClient??new ty(e.queryClientConfig);r(3454);let tv=function(e){let t=th(e),r=function(e){let{config:t}=e,r=N(e.transformer);return n=>{let i=th(e),s=s=>{let[o]=(0,B.useState)(()=>{if(s.trpc)return s.trpc;let r=t({}),n=tm(r),o=i.createClient(r);return{abortOnUnmount:r.abortOnUnmount,queryClient:n,trpcClient:o,ssrState:!!e.ssr&&"mounting",ssrContext:null}}),{queryClient:a,trpcClient:u,ssrState:l,ssrContext:c}=o,h=s.pageProps?.trpcState,f=B.useMemo(()=>h?r.input.deserialize(h):h,[h,u]);return B.createElement(i.Provider,{abortOnUnmount:o.abortOnUnmount??!1,client:u,queryClient:a,ssrState:l,ssrContext:c},B.createElement(ee,{client:a},B.createElement(en,{state:f},B.createElement(n,Object.assign({},s)))))};e.ssr?e.ssrPrepass({parent:e,AppOrPage:n,WithTRPC:s}):n.getInitialProps&&(s.getInitialProps=async e=>{let t;let r=!!e.Component,i={},s=await n.getInitialProps(e);return t=i={...r?s.pageProps??{}:s,...i},r?{pageProps:t}:t});let o=n.displayName??n.name??"Component";return s.displayName=`withTRPC(${o})`,s}}(e),n=u(({path:e,args:r})=>{let n=[...e],i=n.pop();if("useMutation"===i)return t[i](n,...r);if("_def"===i)return{path:n};let[s,...o]=r,a=o[0]||{};return t[i](n,s,a)});return l(e=>"useContext"===e||"useUtils"===e?()=>{let e=t.useUtils();return(0,B.useMemo)(()=>(function(e){let t=function(e){let t=u(({path:t,args:r})=>{let n=[...t],i=I(n.pop()),s=n.join(".");return e[i](s,...r)});return l(r=>e.hasOwnProperty(r)?e[r]:"__untypedClient"===r?e:t[r])}(e.client),r=u(t=>{let r=[...t.path],n=r.pop(),i=[...t.args],s=i.shift(),o=eq(r,s,eQ(n));return({fetch:()=>e.fetchQuery(o,...i),fetchInfinite:()=>e.fetchInfiniteQuery(o,i[0]),prefetch:()=>e.prefetchQuery(o,...i),prefetchInfinite:()=>e.prefetchInfiniteQuery(o,i[0]),ensureData:()=>e.ensureQueryData(o,...i),invalidate:()=>e.invalidateQueries(o,...i),reset:()=>e.resetQueries(o,...i),refetch:()=>e.refetchQueries(o,...i),cancel:()=>e.cancelQuery(o,...i),setData:()=>{e.setQueryData(o,i[0],i[1])},setQueriesData:()=>e.setQueriesData(o,i[0],i[1],i[2]),setInfiniteData:()=>{e.setInfiniteQueryData(o,i[0],i[1])},getData:()=>e.getQueryData(o),getInfiniteData:()=>e.getInfiniteQueryData(o),setMutationDefaults:()=>e.setMutationDefaults(eP(r),s),getMutationDefaults:()=>e.getMutationDefaults(eP(r)),isMutating:()=>e.isMutating({mutationKey:eP(r)})})[n]()});return l(n=>"client"===n?t:ei.includes(n)?e[n]:r[n])})(e),[e])}:"useQueries"===e?t.useQueries:"useSuspenseQueries"===e?t.useSuspenseQueries:"withTRPC"===e?r:n[e])}({config:e=>({links:[function(e){let t={url:e.url.toString(),fetch:e.fetch,transformer:N(e.transformer),methodOverride:e.methodOverride},r=e.maxURLLength??1/0;return()=>{let n=n=>({validate(e){if(r===1/0)return!0;let i=e.map(e=>e.path).join(","),s=e.map(e=>e.input);return H({...t,type:n,path:i,inputs:s,signal:null}).length<=r},async fetch(r){let i=r.map(e=>e.path).join(","),s=r.map(e=>e.input),o=function(e){let t=new AbortController;if(e.some(e=>!e.signal))return t;let r=e.length,n=0,i=()=>{++n===r&&t.abort()};for(let t of e){let e=t.signal;e.aborted?i():e.addEventListener("abort",i,{once:!0})}return t}(r),a=await G({...t,path:i,inputs:s,type:n,headers:()=>e.headers?"function"==typeof e.headers?e.headers({opList:r}):e.headers:{},signal:o.signal});return(Array.isArray(a.json)?a.json:r.map(()=>a.json)).map(e=>({meta:a.meta,json:e}))}}),s={query:F(n("query")),mutation:F(n("mutation"))};return({op:e})=>i(r=>{let n;if("subscription"===e.type)throw Error("Subscriptions are unsupported by `httpLink` - use `httpSubscriptionLink` or `wsLink`");return s[e.type].load(e).then(e=>{n=e;let i=function(e,t){let r;try{r=function(e,t){if("error"in e){let r=t.deserialize(e.error);return{ok:!1,error:{...e,error:r}}}return{ok:!0,result:{...e.result,...(!e.result.type||"data"===e.result.type)&&{type:"data",data:t.deserialize(e.result.data)}}}}(e,t)}catch(e){throw new g}if(!r.ok&&(!h(r.error.error)||"number"!=typeof r.error.error.code)||r.ok&&!h(r.result))throw new g;return r}(e.json,t.transformer.output);if(!i.ok){r.error(M.from(i.error,{meta:e.meta}));return}r.next({context:e.meta,result:i.result}),r.complete()}).catch(e=>{r.error(M.from(e,{meta:n?.meta}))}),()=>{}})}}({url:"".concat("","/api/trpc"),headers:async()=>({})})]}),ssr:!1})},1784:function(){},7663:function(e){!function(){var t={229:function(e){var t,r,n,i=e.exports={};function s(){throw Error("setTimeout has not been defined")}function o(){throw Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:s}catch(e){t=s}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var u=[],l=!1,c=-1;function h(){l&&n&&(l=!1,n.length?u=n.concat(u):c=-1,u.length&&f())}function f(){if(!l){var e=a(h);l=!0;for(var t=u.length;t;){for(n=u,u=[];++c<t;)n&&n[c].run();c=-1,t=u.length}n=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function p(){}i.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new d(e,t)),1!==u.length||l||a(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(e){return[]},i.binding=function(e){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw Error("process.chdir is not supported")},i.umask=function(){return 0}}},r={};function n(e){var i=r[e];if(void 0!==i)return i.exports;var s=r[e]={exports:{}},o=!0;try{t[e](s,s.exports,n),o=!1}finally{o&&delete r[e]}return s.exports}n.ab="//";var i=n(229);e.exports=i}()},9008:function(e,t,r){e.exports=r(7828)},1664:function(e,t,r){e.exports=r(9577)},6377:function(e,t,r){var n=r(4832),i=r(8652),s=r(801),o=r(2030),a=r(3618),u=r(9049),l=r(1971);l.alea=n,l.xor128=i,l.xorwow=s,l.xorshift7=o,l.xor4096=a,l.tychei=u,e.exports=l},4832:function(e,t,r){var n;!function(e,i,s){function o(e){var t,r=this,n=(t=4022871197,function(e){e=String(e);for(var r=0;r<e.length;r++){var n=.02519603282416938*(t+=e.charCodeAt(r));t=n>>>0,n-=t,n*=t,t=n>>>0,n-=t,t+=4294967296*n}return(t>>>0)*23283064365386963e-26});r.next=function(){var e=2091639*r.s0+23283064365386963e-26*r.c;return r.s0=r.s1,r.s1=r.s2,r.s2=e-(r.c=0|e)},r.c=1,r.s0=n(" "),r.s1=n(" "),r.s2=n(" "),r.s0-=n(e),r.s0<0&&(r.s0+=1),r.s1-=n(e),r.s1<0&&(r.s1+=1),r.s2-=n(e),r.s2<0&&(r.s2+=1)}function a(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function u(e,t){var r=new o(e),n=t&&t.state,i=r.next;return i.int32=function(){return 4294967296*r.next()|0},i.double=function(){return i()+(2097152*i()|0)*11102230246251565e-32},i.quick=i,n&&("object"==typeof n&&a(n,r),i.state=function(){return a(r,{})}),i}i&&i.exports?i.exports=u:r.amdD&&r.amdO?void 0!==(n=(function(){return u}).call(t,r,t,i))&&(i.exports=n):this.alea=u}(0,e=r.nmd(e),r.amdD)},9049:function(e,t,r){var n;!function(e,i,s){function o(e){var t=this,r="";t.next=function(){var e=t.b,r=t.c,n=t.d,i=t.a;return e=e<<25^e>>>7^r,r=r-n|0,n=n<<24^n>>>8^i,i=i-e|0,t.b=e=e<<20^e>>>12^r,t.c=r=r-n|0,t.d=n<<16^r>>>16^i,t.a=i-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):r+=e;for(var n=0;n<r.length+20;n++)t.b^=0|r.charCodeAt(n),t.next()}function a(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function u(e,t){var r=new o(e),n=t&&t.state,i=function(){return(r.next()>>>0)/4294967296};return i.double=function(){do var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/2097152;while(0===e);return e},i.int32=r.next,i.quick=i,n&&("object"==typeof n&&a(n,r),i.state=function(){return a(r,{})}),i}i&&i.exports?i.exports=u:r.amdD&&r.amdO?void 0!==(n=(function(){return u}).call(t,r,t,i))&&(i.exports=n):this.tychei=u}(0,e=r.nmd(e),r.amdD)},8652:function(e,t,r){var n;!function(e,i,s){function o(e){var t=this,r="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:r+=e;for(var n=0;n<r.length+64;n++)t.x^=0|r.charCodeAt(n),t.next()}function a(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function u(e,t){var r=new o(e),n=t&&t.state,i=function(){return(r.next()>>>0)/4294967296};return i.double=function(){do var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/2097152;while(0===e);return e},i.int32=r.next,i.quick=i,n&&("object"==typeof n&&a(n,r),i.state=function(){return a(r,{})}),i}i&&i.exports?i.exports=u:r.amdD&&r.amdO?void 0!==(n=(function(){return u}).call(t,r,t,i))&&(i.exports=n):this.xor128=u}(0,e=r.nmd(e),r.amdD)},3618:function(e,t,r){var n;!function(e,i,s){function o(e){var t=this;t.next=function(){var e,r,n=t.w,i=t.X,s=t.i;return t.w=n=n+1640531527|0,r=i[s+34&127],e=i[s=s+1&127],r^=r<<13,e^=e<<17,r^=r>>>15,e^=e>>>12,r=i[s]=r^e,t.i=s,r+(n^n>>>16)|0},function(e,t){var r,n,i,s,o,a=[],u=128;for(t===(0|t)?(n=t,t=null):(t+="\0",n=0,u=Math.max(u,t.length)),i=0,s=-32;s<u;++s)t&&(n^=t.charCodeAt((s+32)%t.length)),0===s&&(o=n),n^=n<<10,n^=n>>>15,n^=n<<4,n^=n>>>13,s>=0&&(o=o+1640531527|0,i=0==(r=a[127&s]^=n+o)?i+1:0);for(i>=128&&(a[127&(t&&t.length||0)]=-1),i=127,s=512;s>0;--s)n=a[i+34&127],r=a[i=i+1&127],n^=n<<13,r^=r<<17,n^=n>>>15,r^=r>>>12,a[i]=n^r;e.w=o,e.X=a,e.i=i}(t,e)}function a(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function u(e,t){null==e&&(e=+new Date);var r=new o(e),n=t&&t.state,i=function(){return(r.next()>>>0)/4294967296};return i.double=function(){do var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/2097152;while(0===e);return e},i.int32=r.next,i.quick=i,n&&(n.X&&a(n,r),i.state=function(){return a(r,{})}),i}i&&i.exports?i.exports=u:r.amdD&&r.amdO?void 0!==(n=(function(){return u}).call(t,r,t,i))&&(i.exports=n):this.xor4096=u}(0,e=r.nmd(e),r.amdD)},2030:function(e,t,r){var n;!function(e,i,s){function o(e){var t=this;t.next=function(){var e,r,n=t.x,i=t.i;return e=n[i],e^=e>>>7,r=e^e<<24^((e=n[i+1&7])^e>>>10)^((e=n[i+3&7])^e>>>3)^((e=n[i+4&7])^e<<7),e=n[i+7&7],e^=e<<13,r^=e^e<<9,n[i]=r,t.i=i+1&7,r},function(e,t){var r,n=[];if(t===(0|t))n[0]=t;else for(r=0,t=""+t;r<t.length;++r)n[7&r]=n[7&r]<<15^t.charCodeAt(r)+n[r+1&7]<<13;for(;n.length<8;)n.push(0);for(r=0;r<8&&0===n[r];++r);for(8==r?n[7]=-1:n[r],e.x=n,e.i=0,r=256;r>0;--r)e.next()}(t,e)}function a(e,t){return t.x=e.x.slice(),t.i=e.i,t}function u(e,t){null==e&&(e=+new Date);var r=new o(e),n=t&&t.state,i=function(){return(r.next()>>>0)/4294967296};return i.double=function(){do var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/2097152;while(0===e);return e},i.int32=r.next,i.quick=i,n&&(n.x&&a(n,r),i.state=function(){return a(r,{})}),i}i&&i.exports?i.exports=u:r.amdD&&r.amdO?void 0!==(n=(function(){return u}).call(t,r,t,i))&&(i.exports=n):this.xorshift7=u}(0,e=r.nmd(e),r.amdD)},801:function(e,t,r){var n;!function(e,i,s){function o(e){var t=this,r="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^(e^e<<1))|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:r+=e;for(var n=0;n<r.length+64;n++)t.x^=0|r.charCodeAt(n),n==r.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function a(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function u(e,t){var r=new o(e),n=t&&t.state,i=function(){return(r.next()>>>0)/4294967296};return i.double=function(){do var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/2097152;while(0===e);return e},i.int32=r.next,i.quick=i,n&&("object"==typeof n&&a(n,r),i.state=function(){return a(r,{})}),i}i&&i.exports?i.exports=u:r.amdD&&r.amdO?void 0!==(n=(function(){return u}).call(t,r,t,i))&&(i.exports=n):this.xorwow=u}(0,e=r.nmd(e),r.amdD)},1971:function(e,t,r){var n;!function(i,s,o){var a,u=o.pow(256,6),l=o.pow(2,52),c=2*l;function h(e,t,r){var n=[],h=p(function e(t,r){var n,i=[],s=typeof t;if(r&&"object"==s)for(n in t)try{i.push(e(t[n],r-1))}catch(e){}return i.length?i:"string"==s?t:t+"\0"}((t=!0==t?{entropy:!0}:t||{}).entropy?[e,y(s)]:null==e?function(){try{var e;return a&&(e=a.randomBytes)?e=e(256):(e=new Uint8Array(256),(i.crypto||i.msCrypto).getRandomValues(e)),y(e)}catch(e){var t=i.navigator,r=t&&t.plugins;return[+new Date,i,r,i.screen,y(s)]}}():e,3),n),m=new f(n),v=function(){for(var e=m.g(6),t=u,r=0;e<l;)e=(e+r)*256,t*=256,r=m.g(1);for(;e>=c;)e/=2,t/=2,r>>>=1;return(e+r)/t};return v.int32=function(){return 0|m.g(4)},v.quick=function(){return m.g(4)/4294967296},v.double=v,p(y(m.S),s),(t.pass||r||function(e,t,r,n){return(n&&(n.S&&d(n,m),e.state=function(){return d(m,{})}),r)?(o.random=e,t):e})(v,h,"global"in t?t.global:this==o,t.state)}function f(e){var t,r=e.length,n=this,i=0,s=n.i=n.j=0,o=n.S=[];for(r||(e=[r++]);i<256;)o[i]=i++;for(i=0;i<256;i++)o[i]=o[s=255&s+e[i%r]+(t=o[i])],o[s]=t;(n.g=function(e){for(var t,r=0,i=n.i,s=n.j,o=n.S;e--;)t=o[i=255&i+1],r=256*r+o[255&(o[i]=o[s=255&s+t])+(o[s]=t)];return n.i=i,n.j=s,r})(256)}function d(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function p(e,t){for(var r,n=e+"",i=0;i<n.length;)t[255&i]=255&(r^=19*t[255&i])+n.charCodeAt(i++);return y(t)}function y(e){return String.fromCharCode.apply(0,e)}if(p(o.random(),s),e.exports){e.exports=h;try{a=r(5042)}catch(e){}}else void 0!==(n=(function(){return h}).call(t,r,t,e))&&(e.exports=n)}("undefined"!=typeof self?self:this,[],Math)},5042:function(){}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[774,179],function(){return t(6840),t(9090)}),_N_E=e.O()}]);